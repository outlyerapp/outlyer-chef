---
agent:
    # account Agent key (default: None, this is a required parameter)
    key: <%= node['outlyer']['agent']['api_key'] %>
    # enable debug logging (default: false)
    debug: <%= node['outlyer']['agent']['debug'] %>
    # override the Agent hostname (default: auto-detected)
    ## Set if you would like a custom name for this agent. Default is hostname
    <%- if node['outlyer']['agent']['name'].nil? %>
    #hostname:
    <%- else %>
    hostname: <%= node['outlyer']['agent']['name'] %>
    <%- end %>
    ##  set the host lables applied to this agent
    <%- if node['outlyer']['agent']['lables'].nil? %>
    #lables:
    <%- else %>
    lables:
        <% @node['outlyer']['agent']['lables'].each do |lable_key, lable_value| -%>
        <%= "#{lable_key}: #{lable_value}" %>
        <% end -%>
    <%- end %>
    # Choose which labels are going to be added to metric dimensions
    <%- if node['outlyer']['agent']['metric_lables'].nil? %>
    #matric_lables:
    <%- else %>
    metric_lables:
        <% @node['outlyer']['agent']['metric_lables'].each do |lable| -%>
        - <%= "#{lable}"%> 
        <% end -%>
    <%- end %>
    # Locations of user plugins (default: /etc/outlyer/config.d)
    # config_dir: "/etc/outlyer/config.d"

    # Location of libjvm.so  for jmx plugins (default: False)
    # libjvm_path: '/usr/lib/jvm/current/libjvm.so'

    # location for Agent server connection.
    # This should not need to be changed (default: exchange.outlyer.com)
    <%- unless node['outlyer']['agent']['server'].nil? %>
    ### The outlyer server endpoint
    server: <%= node['outlyer']['agent']['server'] %>
    <%- end %>

    # solo mode disables central configuration
    solo: <%= node['outlyer']['agent']['solo_mode'] %>





